<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
 <!-- Load Comic Relief font from Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Geologica:wght@100..900&family=Jost:ital,wght@0,100..900;1,100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&family=Readex+Pro:wght@160..700&display=swap" rel="stylesheet">
 <title>Bank List</title>
 <link rel="stylesheet" href="style.css">
    </head>
<body>
<div id="fbt" style="width: 100%; height: 100%; position: fixed; top: 0; overflow-y: auto;">
<div id="mainvid" style="position: fixed; margin-left: 38%; top: 45%; display: none; z-index: 999;">
  <video  width="84" height="84" autoplay muted loop>
    <source src="https://res.cloudinary.com/dwbylknew/video/upload/v1750552049/uploads/e4uncukpqmzmvx5yqiac.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video></div>
  


<div id="successP"style="width: 100%; text-align: center; align-items: center; display: none; position: absolute; top: 0;">
  <img style="width: 100%; height: auto;" src="https://res.cloudinary.com/dwbylknew/image/upload/v1750550531/uploads/djwr8qs6xtsoioium5jq.jpg" alt="">

  <div class="effect" style="color: white; font-size: 32px; font-weight: 700; position: absolute; top: 16.3%; z-index: 1; width: 100%; text-align: center; align-items: center;">
    <span>₦</span> <span id="workme">6765.00</span>
  </div>

  <div id="mainvid2" style="position: absolute; text-align: center; align-items: center; justify-content: center; top: 37.7%; z-index: 1; width: 100%; display: ; padding: 0px 0px 99px 0px; background: #1e1e1e;">
    <video id="myVideo" width="328" height="221" autoplay muted loop>
      <source src="https://res.cloudinary.com/dwbylknew/video/upload/v1750550605/uploads/nlntijukockmposfhgtq.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>
<div id="compme"style="width: 15%; height: 40px; background: transparent; position: absolute; z-index: 1; top: 2%; right: 4%;"></div>

<div id="trustme" style="width: 45%; height: 40px; background: transparent; position: absolute; z-index: 1; top: 30%; left: 4%;"></div>
</div>
  
<div id="selectpage"style="display: none; position: absolute;">
<div style="position: fixed; background-color: #1e1e1e; width: 99.5%; height: 16%; top: 0;">
<div class="header">
 <img id="clbank"style="width: 20px; height: 30px;" src="https://img.icons8.com/?size=100&id=39776&format=png&color=ffffff" alt="">  
   
    <div style="margin-left: 5%;" class="title">Select bank</div>
  </div>

  <div class="search-bar">
    <svg id="searchicon"class="search-icon" viewBox="0 0 24 24">
      <circle cx="10" cy="10" r="6"/>
      <line x1="14.5" y1="14.5" x2="20" y2="20"/>
    </svg>
    <input id="searchInput" type="text" placeholder="Search" />
    <div id="close1" style="display: none;" class="clear-button">×</div>
    <div id="customCaret" style="display: none;"class="caret"></div>
    <div id="mirror" class="mirror"></div>
  </div>
 </div>
 
  <div style="height: 620px; overflow-y: auto; margin-top: 30.6%;">
    <div id="banks2"class="frequent-wrapper">
    <h2>Frequently Used Bank</h2>
    <div class="frequent-container" id="frequentBanks"></div>
  </div>

  <ul id="bankList" class="bank-list"></ul>
  </div>
  <div id="alphabetIndex" class="alphabet-index"></div>
  <div id="letterPopup" style="display: none;"></div>
</div>

<div style="display: block;" id="transferpage">
<div style="display: flex;">
        <img id="changepic"style="width: 100%;  height: auto;"src="https://res.cloudinary.com/dwbylknew/image/upload/v1750550749/uploads/stimzo5sy4cluh8whyo0.png" alt="">
    <div id="closeD" style="width: 12%; height: 8%; background: transparent; position: fixed; margin-top: 0; z-index: 2; left: 0;"></div>
  <div>
      <img style="width: 100%; height: auto; position: fixed; top: 0; z-index: 1; left: 0;"src="https://res.cloudinary.com/dwbylknew/image/upload/v1750550787/uploads/dunc1kmptezbfmavb3ad.jpg" alt="">
  </div>   
   
      <div class="container">
    <div class="tab-menu">
      <div class="tab active">To Other Bank</div>
      <div class="tab">To PalmPay</div>
    </div>
    <div class="tab-line"></div>

    

    <div class="slide-container">
      <!-- To Other Bank -->
      <div class="slide-view" id="otherBankView">

 <div style="position: absolute;"class="input-wrapper">
 
  <div class="fake-input" id="fakeInput"></div>

 <input style=" background:  #1e1e1e; border: none; color: white; font-size: 15px; width: 80%; outline: none;" type="text" id="accountNum" class="real-input"  type="text" inputmode="tel"
  pattern="[0-9]*"
  maxlength="10" placeholder="Enter 10-digit Account No." oninput="formatFilter(this)"/>

<div onclick="clearInput()" id="bankclose" style="background-color: #d9d9d9d3; border-radius: 50%; width: 20px; height: 20px; display: flex; justify-content: center; align-items: center; position: absolute; right: 10px; margin-top: -10%; display: none;">
  <div style="font-size: 21px; color: #1e1e1e; font-weight: 400;">×</div>
</div>
</div>
  
      
        <div style=""class="input-section">
        
        </div>

 
        <div style="border 3px solid white; width: 90%; height: 52px; margin-top: 25.3%; " id="showbank"class="input-section select-bank">
 <input id="selecttext" style="margin-left: 1.5%; margin-top: 2px; font-size: 15.7px; "type="text" placeholder="Select bank" readonly />
        <div id="select2" style="">
<div style="display: flex; position: absolute; margin-top: -1.7%; margin-left: 2%;  background-color: #1e1e1e;">
    <img style="display: none; width: 31px; height: 31px; border-radius: 50%; margin-right: 12px; background: #fff;object-fit: contain; margin-top: -8px;" id="showbank2" src="" alt=""> 
   
   <div style=" display: none; position: absolute; margin-top: -5%; width: 299px; left: 35px;" id="bankname2"></div>
</div>
  <div style="position: absolute;  margin-top: -7px; width: 299px; margin-left: 49px;" id="bankname3"></div>
   </div>
        </div>


      </div>

      <!-- To PalmPay -->
      <div class="slide-view" id="palmpayView">
   
   
       
        <div class="input-section">
   
    <img id="changepic2"style="width: 97%;  height: auto; margin-top: -6.5%; display: none;"src="https://res.cloudinary.com/dwbylknew/image/upload/v1750550911/uploads/aijkvkjje2vuo7qp7c8d.png" alt="">
    
    <div style="position: absolute; "class="input-wrapper">
 
  <div style="margin-top: 32px; width: 96%; display: none;"class="fake-input" id="fakeInput2"></div>
  <input style=" background:  #1e1e1e; border: none; color: white; font-size: 15px; width: 80%; outline: none; " type="text" id="accountNum2" class="real-input"  type="text" inputmode="tel"
  pattern="[0-9]*"
  maxlength="10" placeholder="Enter 10-digit Account No." oninput="formatlifeeFilter(this)" />
 <div onclick="clearInput2()" id="bankclose2" style="background-color: #d9d9d9d3; border-radius: 50%; width: 20px; height: 20px; display: flex; justify-content: center; align-items: center; position: absolute; right: 10px; margin-top: -11%; display: none; ">
  <div style="font-size: 21px; color: #1e1e1e; font-weight: 400;">×</div>
</div>  
</div>
       </div>

    
        <div style="margin-top: 21.5%;" class="input-section select-bank">
     
      <img id="changepic3"style="width: 97%;  height: auto; margin-top: -6.5%; margin-left: 45px;"src="https://res.cloudinary.com/dwbylknew/image/upload/v1750550955/uploads/ddjqi4xozpbl76dz8vib.png" alt="">    
        </div>

      </div>
    </div>
  </div>
</div>
<div id="searchInputWrapper">
  
  </div>

<div id="fastV" style="display: none; margin-left: 4.5%; background-color: #1e1e1e; width: 84%; padding: 0px 12px; position: ; z-index: 2; height: 250px; overflow-y: auto; position: absolute; border-radius: 6px; margin-top: -38.9%;   box-shadow: 0 6px 6px rgba(0, 0, 0, 0.7);">
  <div style="margin-top: -12px;"  id="resultsContainer"></div>

</div>

<div id="tobank">
<div  style="margin-top: -23%;">
<div style="height: 43px; display: none; margin-bottom: 5.5px; "id="flex2">
<div id="namepic" style="display: none; ">
<div id="grass"style="display: flex; margin-top: 1.5%; position: absolute;">
<img style="width: 84.6%; height: auto; margin-left: 7.4%; margin-top: ;"src="https://res.cloudinary.com/dwbylknew/image/upload/v1750551015/uploads/hyczeg5qka1xpqnugf95.jpg" alt="">
      <div style="position: absolute; margin-top: 15.4px; margin-left: 63px; font-weight: 500; font-size: 14px; color: white;" id="accountHolder"></div>    
   </div>     
      </div>
      <div id="spinme"style="display: none; margin-top: 4%; position: absolute; margin-left: 8.5%;" class="verifying-container">
  <div class="spinner">
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
  </div>
  <div style="font-size: 13px;">Verifying account name</div>
</div></div></div>
  
  
    <div style ="text-align: center; justify-content: center; align-items: center;  padding-bottom: 4%; border-radius: 10px; background-color: #1e1e1e; width: 91%; margin-top: 1%; position: relative; margin-left: 4.5%;">
        <button id="next1" style="margin-top: 11px;" class="next-btn" >Next</button></div>
</div>
<div id="topalm" style="margin-top: -23%; display: none;">
<div id="flex6"style="height: 43px; display: none; margin-bottom: 5.5px;" >
<div id="flex" style="display: flex; margin-top: 1.5%;">
<div id="namepic2" style="display: none; ">
<div style="display: flex; margin-top: 1.5%; position: absolute;">
<img style="width: 84.6%; height: auto; margin-left: 7.4%; margin-top: ;"src="https://res.cloudinary.com/dwbylknew/image/upload/v1750551015/uploads/hyczeg5qka1xpqnugf95.jpg" alt="">
      <div style="position: absolute; margin-top: 15.4px; margin-left: 63px; font-weight: 500; font-size: 14px; color: white;" id="accountHolder2"></div>    
   </div>     
      </div>
      <div id="spinme2" style="display: none; margin-top: 4%; position: absolute; margin-left: 8.5%;" class="verifying-container">
  <div class="spinner">
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
    <div class="dot"></div>
  </div>
  <div style="font-size: 13px;">Verifying account name</div>
</div></div></div>
 <div style ="text-align: center; justify-content: center; align-items: center;  padding-bottom: 4%; border-radius: 10px; background-color: #1e1e1e; width: 91%; margin-top: 1%; position: relative; margin-left: 4.5%;">
        <button id="next2"   style="margin-top: 11px;"class="next-btn" >Next</button></div>
        </div>
<img id="signal" style="width: 100%; height: auto; margin-top: 1%; "src="signal.png" alt="">
<div style="padding: 0px 14px; margin-top: -2.6%;">
  <div style="position: sticky; top: 7%;"class="tab-header">
    <div class="tab-container">
      <div class="tab2 active" data-tab="recent">Recent</div>
      <div class="tab2" data-tab="favorites">Favorites</div>
      <div class="tab2" data-tab="contacts">PalmPay Contacts</div>
    </div>
    <img class="search-icon2" src="https://img.icons8.com/ios-glyphs/30/ffffff/search--v1.png" alt="Search Icon"/>
    <div class="tab-line2" id="tab-line2"></div>
  </div>

  <div  id="recent" class="tab-content2 active">
   <ul  style ="height: 700px; " class="account-list" id="accountList"></ul>
<div id="accountDetails3" style="display: none; padding: 15px; background-color: #1c1c1c; border-top: 1px solid #444; color: #fff; overflow-y: hidden; ">
  <img id="detailLogo" src="" alt="Bank Logo" style="width: 50px; height: 50px; border-radius: 50%; margin-bottom: 10px;">
  <div id="detailAccountName" style="font-weight: bold; font-size: 18px;"></div>
  <div id="detailAccountNumber" style="margin-top: 5px; font-size: 15px;"></div>
  <div id="detailBankName" style="margin-top: 5px; font-size: 15px;"></div>
</div>
  </div>
  <div id="favorites" class="tab-content2">
   <img style="width: 98%; height: auto;" src="fave.png" alt="">
  </div>
  <div id="contacts" class="tab-content2">
     <img style="width: 100%; height: auto; " src="con.png" alt="">
     
  </div>
</div>

  

<div id="play" style="display: none; ">
<div id="conclose" style="font-size: 37px; color: #5b5b5b; font-weight: 380; position: fixed; top: 22%; right: 30px; z-index: 9;">×</div>

<div id="popup" class="popup-overlay">
<div style="display: flex; margin-top: 13%;">
  <div style="align-items: center; justify-content: center; text-align: center;">
    <img style="width: 90%; height: auto; position: absolute; left: 5%; border-radius: 24px; top: 28%; filter: drop-shadow(0 4px 15px rgba(0, 0, 0, 0.7));" src="https://res.cloudinary.com/dwbylknew/image/upload/v1750551235/uploads/qiqapux9o3lpebc1zqxp.png" alt="">
  </div>

  <div class="modal-wrapper">
    <div class="modal-container">
      <!-- Top floating icon -->
      <div class="top-icon">
        <img src="https://res.cloudinary.com/dwbylknew/image/upload/v1750551285/uploads/twbabwpca9ebib4kidnx.png" alt="Icon" />
      </div>

      <!-- SVG masked modal background with shadow -->
      <div class="modal-bg">
        <svg viewBox="0 0 360 440" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <mask id="cutout">
              <rect width="100%" height="100%" fill="white"/>
              <circle cx="180" cy="0" r="69" fill="black"/>
            </mask>
          </defs>
          <rect x="0" y="0" width="360" height="440" rx="20" ry="20" fill="transparent" mask="url(#cutout)"/>
        </svg>
      </div>

      <!-- Modal content -->
      <div class="modal-content">
        <h2>Confirm Details</h2>
        <div style=" margin-top: 19px; margin-left: 1%;"class="warning">
   <span style="opacity: 0; position: relative;">❤️</span>
          Kindly review the transfer details before proceeding, as successful transfers cannot be reversed.
        </div>
        <div class="details-box">
       <div style="display: flex;">
          <div class="detail-label">Bank</div>
          <div style="position: absolute; right: 11.1%; margin-top: -1%;" class="bank-row">
            <img id="yourpic" src="https://logo.clearbit.com/palmpay.com" class="bank-logo4" alt="PalmPay">
            <div id="bankname4" class="bank-name4"></div>
          </div>
          </div>
       <div style="display: flex; margin-top: 11.6%;">
          <div class="detail-label">Account Number</div>
     <div style="position: absolute; right: 11.1%; margin-top: -0.5%;" > 
          <div id="accountNum4" class="detail-value">916 024 6696</div>
  </div>
   </div>     
    <div style="display: flex; margin-top: 11%;"> 
          <div class="detail-label">Verified Name</div>
   </div>
     <div id="margin" style="position: absolute; right: 11.1%; width: 46%; height: 59px; text-align: right; white-space: pre-line; margin-top: -12%;  justify-content: center; align-items: center;"> 
          <div id="yourname" class="detail-value2">TUAKA JACK Nwineewi</div></div>
        
       </div>
        <button id="showWhy" class="button4">Confirm</button>
     </div>
      </div>
    </div>
  </div>
</div>
</div>
</div>
<div style="position: absolute; opacity: 0;"id="verifyconfirm">love</div>
<div id="why1" style="display: none; top: 0; position: absolute; width: 100%; height: 100%; z-index: 3;">
<div style="">
<div id="life2h" style="">
 <div>
     <img id="changeme" style="width: 100%; height: auto;" src="https://res.cloudinary.com/dwbylknew/image/upload/v1750551388/uploads/gumdvgt2oldfxprq4f0n.jpg" alt="">
 </div>
  <div style="margin-top: -211%;" class="container9">
 <div id="halan"style="position: absolute; width: 15%; height: 30px; background-color: transparent;"></div> 
   <div  >
    <div id="header9"class="header9">
      <span id="head9" style="color: white;">Transfer to Bank</span>
    </div>
    </div>

    <div class="account-box9">
   <div id="bank-logo9">
       <img id="house1"  src="https://logo.clearbit.com/opayweb.com" alt="OPay Logo" class="bank-logo9" ondblclick="changeImage()" >
     </div>
      <div style="position: absolute; width: 80%; margin-left: 13%;"class="account-details9">
        <div style="color: white;" id="account-name9" class="account-name9">BARIDON JACK NWINEEWII</div>
        <div class="account-info9"><span id="yournum">9160246696</span><span id="yourban"style="margin-left: 2%;">OPay</span></div>
      </div>
    </div>

   <div id="baba">
    <div id="totop">
    

<div id="border1" style="position: absolute; margin-top: 7.6%; border-bottom: 0.1px solid #3c3c3c; padding: 8px; margin-left: 4.5%; width: 76.3%;">
    <input id="amountInput" style="   font-family: 'Roboto', sans-serif; width: 260px; height: 30px; color: white; font-size: 22px; outline: none; pointer-events: auto; caret-color: #8B5CF6; margin-left: 2.9%; border: none; background-color: transparent; font-weight: 500;" inputmode="none" autocomplete="off">
</div>
 </div>
<div class="input-box9">
      

 <div id="subtext" class="subtext"><span>Balance:</span> <span id="addedbal2">₦ 0.94</span>, CashBox: ₦ 0.00</div>
    </div>
<div id="rapp"style="position: absolute; margin-top: 4.2%; padding: 8px; margin-left: -1.4%; width: 76.3%;">
    <input id="referenceInput" style="width: 260px; height: 30px; color: white; font-size: 18px; outline: none;  caret-color: #8B5CF6; margin-left: 2.2%; border: none; background-color: transparent;" >

</div>

<div onclick="clearInput4()" id="amountdel" style="background-color: #b8b8b8d9; border-radius: 50%; width: 20px; height: 20px; display: flex; justify-content: center; align-items: center; position: absolute; right: 33px; margin-top: -28.4%; display: none; ">
  <div style="font-size: 21px; color: #1e1e1e; font-weight: 400;">×</div>
</div>  

<div onclick="clearInput5()" id="refdel" style="background-color: #b8b8b8d9; border-radius: 50%; width: 20px; height: 20px; display: flex; justify-content: center; align-items: center; position: absolute; right: 33px; margin-top: 7%; display: none; ">
  <div style="font-size: 21px; color: #1e1e1e; font-weight: 400;">×</div>
</div>  
</div>
</div>
<div >
  <div id="keytop" class="keypad">
    <div class="key">1</div>
    <div class="key">2</div>
    <div class="key">3</div>
   
    <div class="key">4</div>
    <div class="key">5</div>
    <div class="key">6</div>
   
    <div class="key">7</div>
    <div class="key">8</div>
    <div class="key">9</div>
    <div class="key">00</div>
    <div class="key">0</div>
    <div class="key">.</div>
  </div>
</div>

<div style="position: absolute; margin-top: -55%; right: 2px;">
<div id="backspaceKey"style="padding: 8px 3.5px; width: 80px; user-select: none;" class="key2">&#x232B;</div>
<div id="next8" style="user-select: none;"  class="next">Next</div> 
</div>
</div>
</div>
<div id="barry9" style="width: 100%; height: 100vh; background-color: rgba(0, 0, 0, 0.5); z-index: 4; position: absolute; top: 0; display: none;">
<div id="barry2" style="display: flex;  position: fixed; left: 0;width: 100%; border-top-left-radius: 29px;border-top-right-radius: 29px; bottom: -2%;">
 <div>
     <img id="wish1" style="width: 100%; height: auto; position: absolute; border-top-left-radius: 29px;border-top-right-radius: 29px;" src="https://res.cloudinary.com/dwbylknew/image/upload/v1750551567/uploads/bj4vs8s2iox8zxycop4v.jpg" alt="">
 </div>
  <div class="payment-box5">
<div id="styletop">
  <div style="margin-top: -2%;">
    <div class="amount-large5"><span>&#8358;</span><span id="justme">200.00</span></div>
<div id="toggleBtn1"style="width: 20%; height: 40px; background-color: transparent; position: absolute; right: 2%; margin-top: -19%;"></div>
    <div class="section5">
      <div class="row5">
    <div id="wella">
        <span style="position: absolute; right: 10%; margin-top: 2.3%;"><span>&#8358;<span id="justme2">200.00</span></span>
      </div></div>
      <div id="charge" class="row5">
        
        <span style="position: absolute; right: 10%; margin-top: 8%;"><span  class="strikethrough">&#8358;10.00</span> <span>&#8358;0.00</span></span>
      </div>
    <div id="land">
      <div class="row5">
        
        <span id="faith1"style="position: absolute; right: 10%; margin-top: 12.8%;">9160246696</span>
      </div>
      <div class="row5">
       
        
     <div  style="position: absolute; right: 10%; width: 46%; height: 59px; text-align: right; white-space: pre-line; margin-top: 14.3%;  justify-content: center; align-items: center;"> 
          <div id="faith3">TUAKA JACK Nwineewi1bbhj jjj</div></div>
    
      </div>
    </div>
</div>
   
<div id="land2">
    <div style="margin-top: 85.4%;" class="payment-method5">
      <div class="balance-row5">
        <div class="balance-icon5">
         
          <span style="padding: 0px 25px 0px 0px; background: #1e1e1e; color: #a0a0a0; width: 59%;"id="addedbal">(0.94)</span>
        </div>
       
    </div>
</div>
    <button id="paycon1" class="confirm-btn5">Confirm to Pay</button>
  </div>
</div>
</div>
</div>

</div>
</div>
<div id="enterpin" style="width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.3); z-index: 4; position: absolute; top: 0; display: none;">
<div style=" bottom: -2px; position: absolute; left: 0;width: 100%; z-index: 4; border-top-left-radius: 29px; border-top-right-radius: 29px;  background-color: #141414; z-index: 4;" >

<div id="h">
  <div style="margin-top: 5%;" class="container92">
    <div class="header92">
    <div id="was1"style="position: absolute; font-size: 33px; font-weight: 300; right: 20px; margin-top: -2.3%; color: #7c7c7c;">×</div>  
      <span style="color: white;">Input PIN to Pay</span>
   
    </div>
    <div style=" color: white;font-size: 19.4px;font-weight: 500; margin-top: 4%;">
      <span>&#8358;</span><span id="mymom" style="margin-left: 1.7%;">50.00</span>
    </div>
    <div class="pin-input-wrapper">
      <input id="ella3" type="password" maxlength="1">
      <input id="ella4"type="password" maxlength="1">
      <input id="ella5" type="password" maxlength="1">
      <input id="ella6"type="password" maxlength="1">
      <div class="toggle-visibility92" id="toggleEye">
      <img
  id="eyeIconClosed"
  class="only-lashes92"
  src="https://img.icons8.com/?size=100&id=121539&format=png&color=737373"
  alt="closed eye"
/>
        <img id="eyeIconOpen" src="https://img.icons8.com/?size=100&id=85028&format=png&color=737373" alt="open eye" style="display: none;"/>
      </div>
    </div>
    <div style="font-size: 12.4px;font-weight: 400; margin-top: 8%; color: #8B5CF6;">
      Forgot PIN
    </div>
    <div style="background-color: #1e1e1e; margin-top: 8%;">
      <div style="font-size: 12.4px;font-weight: 400; color: white; padding-top: 10px;">
  
   <div style="display: flex; text-align: center; justify-content: center; align-items: center; gap: 2%;">
   <img style="width: 16px; height: 15px;" src="https://img.icons8.com/?size=100&id=85804&format=png&color=40C057" alt="">   
       <span>Secure input mode active</span></div>
      </div>
      <div class="keypad92">
        <div class="key92">1</div>
        <div class="key92">2</div>
        <div class="key92">3</div>
        <div class="key92">4</div>
        <div class="key92">5</div>
        <div class="key92">6</div>
        <div class="key92">7</div>
        <div class="key92">8</div>
        <div class="key92">9</div>
        <div style="opacity: 0;" class="key93">0</div>
        <div class="key92">0</div>
        <div style="background: transparent;" id="backspaceKey92" class="key92">&#x232B;</div>
      </div>
    </div>
  </div>
</div>
</div>
</div>
<div id="cancelpage" style=" width: 100%; height: 110%; position: fixed; background: rgba(0, 0, 0, 0.2); top: 0; display: none; z-index: 99999;">
<div style="position: fixed; z-index: 8; margin-left: 4.5%; top: 43.5%; ">
    <img style="width: 95.5%; height: auto; border-radius: 25px;" src="https://res.cloudinary.com/dwbylknew/image/upload/v1750551661/uploads/eobsqdal22gqefnwkfvs.jpg" alt="">
<div id="closetoggle"style="width: 20%; height: 40px; background-color: transparent; position: absolute; right: 2%; margin-top: -49%;"></div>
<div id="continuetoggle"style="width: 40%; height: 50px; background-color: transparent; position: absolute; right: 10%; margin-top: -24%;"></div>
<div id="closetoggle2"style="width: 40%; height: 50px; background-color: transparent; position: absolute; right: 55%; margin-top: -24%;"></div>
</div>
</div>
<script>
const images = ["https://res.cloudinary.com/dwbylknew/image/upload/v1750600553/uploads/r9y5cj8xejglvcnrdd6o.png", "https://res.cloudinary.com/dwbylknew/image/upload/v1750600606/uploads/ygift0o9scbk4frhtuby.png", "https://res.cloudinary.com/dwbylknew/image/upload/v1750600453/uploads/zundwr701hflio3gwyj3.png"];
  let currentIndex = 0;

  function changeImage() {
    const gloo = document.getElementById("yourban").textContent;

    if (gloo.trim().toLowerCase() === "palmpay") {
      currentIndex = (currentIndex + 1) % images.length;
      document.getElementById("house1").src = images[currentIndex];
    }
  }
    document.addEventListener('click', function(event) {
    const fastV = document.getElementById('fastV');
    
    // Check if the click was outside of #fastV
    if (fastV.style.display === "block" && !fastV.contains(event.target)) {
      fastV.style.display = "none";
    }
  });
    
document.getElementById("closeD").addEventListener('click', () => {
   parent.postMessage("bankIframe", "*");
  });   
  document.getElementById("compme").addEventListener('click', () => {
 
  document.getElementById("fbt").style.overflow = 'auto';
   parent.postMessage("resetIframe", "*");
parent.postMessage("resetIframe2", "*");
  });   
  
     const iframe1 = document.getElementById("myIframe");
        document.getElementById("trustme").addEventListener('click', () => {
   document.getElementById("mainvid").style.display ="block";

setTimeout(() => {
    document.getElementById("mainvid").style.display ="none";
 parent.postMessage("myedit", "*");
  
   localStorage.setItem('activeContainer', "viewedit");   

  }, 1200);
  
  
});
  
    
 const button14 = document.getElementById('was1');
    
    let clickCount2 = 0;

    button14.addEventListener('click', () => {
      clickCount++;
      if (clickCount % 2 === 1) {
        // Odd clicks - show container 1
        document.getElementById("cancelpage").style.display = 'block';
        
      } else {
        
    document.getElementById("cancelpage").style.display = 'none';   
    document.getElementById("barry9").style.display = 'none';  
    
     document.getElementById("enterpin").style.display = 'none';   
        clickCount2 = 0;   
              }
    });
    document.getElementById("paycon1").addEventListener('click', () => {
document.getElementById("enterpin").style.display ="block"

const idme = "barry9";
  localStorage.setItem('activeContainer', idme); 
  
const hart = document.getElementById("justme2").textContent;

document.getElementById("mymom"). textContent = hart;

clickCount2 = 0;
clickCount = 0;
});
  
  const inputs = document.querySelectorAll('.pin-input-wrapper input');
  const key7 = document.querySelectorAll('.key92');
  
  let currentInputIndex = 0;

  key7.forEach(key => {
    key.addEventListener('click', () => {
      const keyValue = key.innerText;

      if (key.id === 'backspaceKey92') {
        if (currentInputIndex > 0) currentInputIndex--;
        inputs[currentInputIndex].value = '';
        return;
      }

      if (/^\d$/.test(keyValue) && currentInputIndex < inputs.length) {
        inputs[currentInputIndex].value = keyValue;
        currentInputIndex++;

        if (currentInputIndex === inputs.length) {
          const pin = Array.from(inputs).map(i => i.value).join('');
          if (pin === '1617') {
      document.getElementById("ella3").value =""        
  document.getElementById("ella4").value =""               
  document.getElementById("ella5").value =""            
    document.getElementById("ella6").value =""           
         currentInputIndex = 0;
        document.getElementById("barry9").style.display = 'none';  
    
     document.getElementById("enterpin").style.display = 'none';   
        clickCount2 = 0;   
     clickCount = 0;    
       document.getElementById("mainvid").style.display = "block";
      
    setTimeout(() => {
document.getElementById("mainvid").style.display = "none";
document.getElementById("transferpage").style.display = "none";
document.getElementById("why1").style.display = "none";
document.getElementById("successP").style.display = "block";

 let now1 = new Date();  
let months = [  
    "Jan", "Feb", "Mar", "Apr", "May", "Jun",  
    "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"  
];  

let month = months[now1.getMonth()];  
let day = now1.getDate();  
let year = now1.getFullYear();  
let hours24 = now1.getHours();  
let minutes = now1.getMinutes().toString().padStart(2, "0");  
let seconds = now1.getSeconds().toString().padStart(2, "0");  
let ampm = hours24 >= 12 ? "PM" : "AM";  
let hours12 = hours24 % 12 || 12;

// Format 1: "Jun 20, 2025 10:47 PM"
let format1 = `${month} ${day}, ${year} ${hours12}:${minutes} ${ampm}`;
localStorage.setItem("formattedTime", format1);

// Format 2: "Jun 20, 2025 10:47:17 PM"
let format2 = `${month} ${day}, ${year} ${hours12}:${minutes}:${seconds} ${ampm}`;
localStorage.setItem("formattedTime2", format2);

// Format 3: "Jun 20, 2025, 22:47:17 PM"
let format3 = `${month} ${day}, ${year}, ${hours24}:${minutes}:${seconds} ${ampm}`;
localStorage.setItem("formattedTime3", format3);

const accountName =
document.getElementById("account-name9").textContent;
localStorage.setItem("accountHolderName", accountName);
const bankName =
document.getElementById("yourban").textContent;
localStorage.setItem("selectedBankName", bankName);
const accountNumber =
document.getElementById("yournum").textContent;
localStorage.setItem("accountNumber", accountNumber);
const bankLogo =
document.getElementById("house1").src;

localStorage.setItem("editlogo", bankLogo);
const letters = 'abcdefghijklmnopqrstuvwxyz';
  const digits = '0123456789';

  const getRandom = (source, count) => {
    let result = '';
    for (let i = 0; i < count; i++) {
      result += source.charAt(Math.floor(Math.random() * source.length));
    }
    return result;
  };

  const part1 = getRandom(digits, 3);   // 3 digits
  const part2 = getRandom(letters, 2);  // 2 letters
  const part3 = getRandom(digits, 3);   // 1 digit
  const part4 = getRandom(letters, 2);  // 2 letters
  const part5 = getRandom(digits, 1);   // 3 digits
  const part6 = getRandom(letters, 1);  // 2 letters

  const finalID = part1 + part2 + part3 + part4 + part5 + part6;
  
  localStorage.setItem("randomNumber", finalID);

 const digits2 = '0123456789';
  const letters2 = 'abcdefghijklmnopqrstuvwxyz';

  // Generate a 28-digit random number
  let numberPart = '';
  for (let i = 0; i < 12; i++) {
    numberPart += digits2.charAt(Math.floor(Math.random() * digits2.length));
  }

  // Generate 2 random letters
  let letterPart = '';
  for (let i = 0; i < 2; i++) {
    letterPart += letters2.charAt(Math.floor(Math.random() * letters2.length));
  }

  const finalValue = numberPart + letterPart;
   localStorage.setItem("sectionno", finalValue);
const checkme =
document.getElementById("yourban").textContent;

let thisispalm ="665";
 if (checkme.trim().toLowerCase() === "palmpay") {  
 thisispalm ="666";
localStorage.setItem("checkbank", thisispalm);
const checkMe ="palmpay"
   localStorage.setItem("amen", checkMe);

} else {
    thisispalm ="665";
localStorage.setItem("checkbank", thisispalm);
const checkMe ="notpam"
   localStorage.setItem("amen", checkMe);
   
};
localStorage.setItem('mark', "yes");
const none = document.getElementById("house1").src;
   
    const bankLogo2 = none;
    


 // Get current date in desired format
    const now = new Date();
    const options = { month: "short", day: "numeric", year: "numeric" };
    const formattedDate = "Last transfer on " + now.toLocaleDateString("en-US", options);

    const newEntry = {
        accountName,
        accountNumber,
        bankName,
        bankLogo,
        bankLogo2,
        date: formattedDate
    };

    let history = JSON.parse(localStorage.getItem("accountHistory") || "[]");

    // Check for exact match
    const index = history.findIndex(item =>
        item.accountName === newEntry.accountName &&
        item.accountNumber === newEntry.accountNumber &&
        item.bankName === newEntry.bankName &&
        item.bankLogo === newEntry.bankLogo &&
    item.bankLogo2 === newEntry.bankLogo2
   
    );

    if (index === -1) {
        history.unshift(newEntry); // Add to top
    } else {
        history.splice(index, 1); // Remove existing
        history.unshift(newEntry); // Re-add to top with updated date
    }

    localStorage.setItem("accountHistory", JSON.stringify(history));
    
parent.postMessage("savepic", "*");
     

const idme ="successP";
   localStorage.setItem('activeContainer', idme);  
   
   let pos = 100; // start from left 100%
  const interval = setInterval(() => {
    pos -= 10; // slide speed
    if (pos <= 0) {
      pos = 0;
      clearInterval(interval);
    }
    document.getElementById("successP").style.left = pos + '%';
  }, 1); // adjust speed (25ms)

 }, 800); 
    setTimeout(() => {
document.getElementById("mainvid2").style.display = 'none';

 }, 2800);    
        
          } else {
     document.getElementById("ella3").value =""        
  document.getElementById("ella4").value =""               
  document.getElementById("ella5").value =""            
    document.getElementById("ella6").value =""           
         currentInputIndex = 0;
          }
        }
      }
    });
  });
 
  // Toggle eye icon visibility
  const toggleBtn = document.getElementById('toggleEye');
  const eyeClosed = document.getElementById('eyeIconClosed');
  const eyeOpen = document.getElementById('eyeIconOpen');
  let isVisible = false;

  toggleBtn.addEventListener('click', () => {
    isVisible = !isVisible;
    inputs.forEach(input => {
      input.type = isVisible ? 'text' : 'password';
document.getElementById("ella3").style.fontSize = isVisible ? '22px' : '40px';

document.getElementById("ella4").style.fontSize = isVisible ? '22px' : '40px';

document.getElementById("ella5").style.fontSize = isVisible ? '22px' : '40px';

document.getElementById("ella6").style.fontSize = isVisible ? '22px' : '40px';
    
    });
    eyeClosed.style.display = isVisible ? 'none' : 'inline';
    eyeOpen.style.display = isVisible ? 'inline' : 'none';
  });
  
const inpu2 = document.getElementById('amountInput');

  // Always set cursor to end on focus or click/tap
  inpu2.addEventListener('focus', moveCursorToEnd);
  inpu2.addEventListener('click', moveCursorToEnd);
  inpu2.addEventListener('touchstart', moveCursorToEnd);

  // Keep cursor at the end during input events
  inpu2.addEventListener('input', () => {
    const val = inpu2.value;
    inpu2.value = ''; // clear and restore to force cursor at end
    inpu2.value = val;
  });

  function moveCursorToEnd() {
    const len = inpu2.value.length;
    // Delay required for mobile tap handlers
    setTimeout(() => {
      inpu2.setSelectionRange(len, len);
    }, 0);
  }
document.getElementById("next8").addEventListener('click', () => {
 const well8 = document.getElementById("amountInput").value;
document.getElementById("workme").textContent = well8;

 const faith = document.getElementById("yournum").textContent;
  
const faith3 = document.getElementById("account-name9").textContent;
const well5 = document.getElementById("amountInput").value;
const well1 = well5.replace(/,/g, ''); // Remove all commas

  if (well8.trim() !== "" && Number(well1) < 25000001 ) {
 

document.getElementById("barry9").style.display ="block"
 
 const idme = "barry9";
  localStorage.setItem('activeContainer', idme); 
 document.getElementById("justme").textContent = well8;
 
const showlov = `₦ ${well8}.00` 

localStorage.setItem("setAmount", showlov);
const showlov2 = `${well8}.00` 

localStorage.setItem("setAmount2", showlov2);

document.getElementById("justme2").textContent = well8;
 
 document.getElementById("faith1").textContent = faith;
 
 document.getElementById("faith3").textContent = faith3;
 
 parent.postMessage("reloadedit", "*");
  
 
  } else {
   document.getElementById("barry9").style.display ="none"
    
 
  }
  });
   

document.getElementById("halan").addEventListener('click', () => {

 let pos = 0; // start from left 0%
  const interval = setInterval(() => {
    pos += 5; // slide out
    if (pos >= 100) {
      pos = 100;
      clearInterval(interval);
      
    }
    document.getElementById("why1").style.left = pos + '%';
 
  }, 1);
setTimeout(() => {
document.getElementById("why1").style.display ="none"
document.getElementById("fbt").style.overflow = 'auto';

 }, 800);
clickCount = 0;
isAccountVerified = false;
isAccountVerified2 = false;
});
const tabs = document.querySelectorAll('.tab');
    const tabLine = document.querySelector('.tab-line');
    const slideContainer = document.querySelector('.slide-container');

const change =
document.getElementById("customCaret2");



let pendingNewLeft = false; // Track if newLeft needs to be processed 

    tabs.forEach((tab, index) => {
      tab.addEventListener('click', () => {
        document.querySelector('.tab.active').classList.remove('active');
        tab.classList.add('active');

        // Move the tab underline
        tabLine.style.left = index === 0 ? '0%' : '52.5%';

        // Slide the container left or right
        slideContainer.style.transform = index === 0 ? 'translateX(0)' : 'translateX(-50%)';

// Move the tab underline
       

document.getElementById("changepic2").style.display = index === 0 ? 'none' : 'block';

document.getElementById("fakeInput2").style.display = index === 0 ? 'none' : 'block';
 
 document.getElementById("changepic3").style.marginLeft = index === 0 ? '45px' : '-5px';
 
 
 if (index !== 0) {
  switchToPalmPay();
document.getElementById("topalm").style.display ="block"

document.getElementById("bankclose").style.opacity ="0"

document.getElementById("bankclose2").style.opacity ="1"

document.getElementById("tobank").style.display ="none"

document.getElementById("changeme").src ="topalm2.png"




}
 if (index == 0) {
  switchToRecent();
document.getElementById("bankclose").style.opacity ="1"

document.getElementById("bankclose2").style.opacity ="0"
document.getElementById("topalm").style.display ="none"

document.getElementById("tobank").style.display ="block"
}
document.getElementById("changeme").src ="https://res.cloudinary.com/dwbylknew/image/upload/v1750551388/uploads/gumdvgt2oldfxprq4f0n.jpg"

document.getElementById("head9").style.marginTop =""

document.getElementById("bank-logo9").style.marginLeft = "-1%"

document.getElementById("subtext").style.marginTop = ""


document.getElementById("subtext").style.marginLeft = ""


document.getElementById("baba").style.marginTop = ""
document.getElementById("rapp").style.marginTop = "4.2%"

document.getElementById("keytop").style.marginTop = "79.4%"

document.getElementById("amountdel").style.marginTop = "-28.4%"

document.getElementById("head9").textContent = "Transfer to Bank"
 
  document.getElementById("wish1").src ="https://res.cloudinary.com/dwbylknew/image/upload/v1750551567/uploads/bj4vs8s2iox8zxycop4v.jpg"

document.getElementById("barry2").style.marginTop ="-167%"

document.getElementById("charge").style.display ="block"
document.getElementById("wella").style.marginTop =""
document.getElementById("land").style.marginTop =""

document.getElementById("land2").style.marginTop =""
  
  document.getElementById("styletop").style.marginTop =""
  document.getElementById("showbank2").style.marginTop ="-3px"
  });
});
document.getElementById("showWhy").addEventListener('click', () => {

const bola4 = document.getElementById("accountNum4").textContent.trim().replace(/\s+/g, '');

document.getElementById("yournum").textContent = bola4;
localStorage.setItem("accountNumber", bola4)
const bola3 = document.getElementById("bankname4").textContent;

document.getElementById("yourban").textContent = bola3;
 localStorage.setItem("selectedBankName", bola3)

const bola = document.getElementById("yourname").textContent;

document.getElementById("account-name9").textContent = bola;
 localStorage.setItem("accountHolderName", bola)


document.getElementById("why1").style.display ="block"
const idme = "why1";
  localStorage.setItem('activeContainer', idme);  
  
 let pos = 100; // start from left 100%
  const interval = setInterval(() => {
    pos -= 10; // slide speed
    if (pos <= 0) {
      pos = 0;
      clearInterval(interval);
    }
    document.getElementById("why1").style.left = pos + '%';
  }, 1); // adjust speed (25ms)
        


document.getElementById("mainvid").style.display = "block";
   document.getElementById("fbt").scrollTop ="0"  

document.getElementById("fbt").style.overflow = 'hidden';
  document.getElementById("mainvid").style.display = "block";
      setTimeout(() => {

 document.getElementById("mainvid").style.display = "none";
    setTimeout(() => {
document.getElementById("mainvid").style.display = "block";
 }, 400); 
 setTimeout(() => {
document.getElementById("mainvid").style.display = "none";
 }, 1000); 
      }, 1800); 

 });

  
  const conclose = document.getElementById("conclose")
    conclose.onclick = function() {
      document.getElementById("play").style.display = "none";
  document.getElementById("fbt").style.overflow = 'auto';
    };
    
    
  const conclose2 = document.getElementById("popup")
    conclose2.onclick = function() {
      document.getElementById("play").style.display = "none";
  document.getElementById("fbt").style.overflow = 'auto';
    };
    
 updateCaretPosition2() 
  const bankList = document.getElementById("bankList");
  const alphabetIndex = document.getElementById("alphabetIndex");
  const searchInput = document.getElementById("searchInput");
  const letterPopup = document.getElementById("letterPopup");

  const knownBanks = {
  "9mobile 9Payment Service Bank": "9mobile9psb.com",
  "Abbey Mortgage Bank": "",
  "Above Only MFB": "",
 
  "Access Bank": "accessbankplc.com",
  "Access Bank (Diamond)": "",
  "Accion Microfinance Bank": "accionmfb.com", // found via search 2
  "Aella MFB": "aellabank.com",                // found via search 3
  "AG Mortgage Bank": "",
  "Ahmadu Bello University Microfinance Bank": "",
  "Airtel Smartcash PSB": "",
  "AKU Microfinance Bank": "",
  "Akuchukwu Microfinance Bank Limited": "",
  "ALAT by WEMA": "alat.ng",                  // found via search 4

  "9mobile 9Payment Service Bank": "https://9psb.com.ng",  "Abbey Mortgage Bank": "https://www.abbeymortgagebank.com",  "Above Only MFB": "aboveonlymfb.com",  
  "Access Bank (Diamond)": "https://www.accessbankplc.com",  "AG Mortgage Bank": "https://www.agmortgagebankplc.com",  "Ahmadu Bello University Microfinance Bank": "https://abumfbank.com.ng",  "Airtel Smartcash PSB": "https://smartcashpsb.ng",  "AKU Microfinance Bank": "https://aku.africa",

   "Ecobank Nigeria": "ecobank.com",
     "VFD Microfinance Bank Limited": "vbank.ng",
      
    "Alternative bank": "https://altbank.ng",  "Amju Unique MFB": "https://www.amjuuniquemfbng.com",  "Amegy Microfinance Bank": "https://www.amegybank.com",  "ASO Savings and Loans": "https://www.asoplc.com",  "AWACASH MICROFINANCE BANK": "https://awacash.com",  "AZTEC MICROFINANCE BANK LIMITED": "https://www.aztecmfbank.com",  "Bainescredit MFB": "https://bainescredit.com",    
         "Banc Corp Microfinance Bank": "https://www.bancorpfinanceng.com",  "BANKIT MICROFINANCE BANK LTD": "bankitafrica.com",  "BANKLY MFB": "bankly.ng",  "Baobab Microfinance Bank": "baobab.com",  "BellBank Microfinance Bank": "bellmfb.com",  "Beststar Microfinance Bank": "https://microfinancearena.com",  "Bosak Microfinance Bank": "https://www.bosakmfb.com",  "Bowen Microfinance Bank": "https://www.bowenmfb.org","Branch International Finance Company Limited": "https://branch.com.ng",  "Carbon": "https://getcarbon.co",  "CASHCONNECT MFB": "https://cashconnectng.com",  "Chanelle Microfinance Bank Limited": "https://www.chanellemfb.com",  "Citibank Nigeria": "https://www.citigroup.com",  "CITYCODE MORTAGE BANK": "https://citycodemortgagebank.com",  "Consumer Microfinance Bank": "https://consumermfb.com.ng",  "Corestep MFB": "https://www.corebanknigeria.com",  "Coronation Merchant Bank": "https://www.coronationmb.com",  "County Finance Limited": "https://county.ng", "Credit Direct Limited": "https://www.creditdirect.ng",  "CRUTECH MICROFINANCE BANK LTD": "https://microfinancearena.com",  "Dot Microfinance Bank": "https://www.dot.ai",  "Ekondo Microfinance Bank": "https://ekondomfbank.com",  "EXCEL FINANCE BANK": "https://microfinancearena.com",  "Fairmoney Microfinance Bank": "https://fairmoney.io",  "Fedeth MFB": "https://clearpaymfb.com",  "Firmus MFB": "https://www.firmusmfb.com",  "FIRST ROYAL MICROFINANCE BANK": "https://www.firstroyalmfb.com",  "FIRSTMIDAS MFB": "https://firstmidasmfb.com",  "FirstTrust Mortgage Bank Nigeria": "https://www.ftmortgagebankplc.com",  "FSDH Merchant Bank Limited": "https://fsdhmerchantbank.com",  "FUTMINNA MICROFINANCE BANK": "https://microfinancearena.com",  "GoMoney": "https://gomoney.global",  "GOOD SHEPHERD MICROFINANCE BANK": "https://microfinancearena.com",  "Goodnews Microfinance Bank": "https://gnmfb.com",
       "Greenwich Merchant Bank": "https://www.greenwichbankgroup.com",  "GROOMING MICROFINANCE BANK": "https://groomingmfb.com",  "GTI MFB": "https://microfinance.gti.com.ng",  "IBANK Microfinance Bank": "https://ibankmfb.com",  "Hasal Microfinance Bank": "https://hasalmfb.com",  "Kadpoly MFB": "https://microfinancearena.com",  "KONGAPAY (Kongapay Technologies Limited)(formerly Zinternet)": "https://www.kongapay.com",  "Kredi Money MFB LTD": "https://thekredibank.com",  "Lagos Building Investment Company Plc.": "https://lbicplc.com",  "Letshego Microfinance Bank": "https://www.letshego.com",  "Links MFB": "https://linksmfb.com",  "Living Trust Mortgage Bank": "https://www.livingtrustng.com",  "MAINSTREET MICROFINANCE BANK": "https://www.mainstreetmfb.com",  "Mint MFB": "https://mintyn.com",  "Money Master PSB": "https://moneymasterpsb.com",  "MTN Momo PSB": "https://www.momo.ng",  "MUTUAL BENEFITS MICROFINANCE BANK": "https://www.mutualbenefitsmfb.com.ng",  "NET MICROFINANCE BANK": "https://netmfb.com",  "Nigerian Navy Microfinance Bank Limited": "https://nigerianavymfb.com",  "Nombank MFB": "https://nomba.com", 
      
        "NOVA BANK": "https://www.novabank.ng",  "NPF MICROFINANCE BANK": "https://npfmicrofinancebankplc.ng",  "Optimus Bank Limited": "https://www.optimusbank.com",  "PATHFINDER MICROFINANCE BANK LIMITED": "https://microfinancearena.com",  "Paystack-Titan": "https://support.paystack.com",  "Personal Trust MFB": "https://personaltrustmfb.com",   "Platinum Mortgage Bank": "http://pmbl-ng.com",    "Prospa Capital Microfinance Bank": "https://getprospa.com",
      
        "PROSPERIS FINANCE LIMITED": "https://prosperisgroup.com",
        "QuickFund MFB": "https://www.quickfundmfb.com",
         "Rand Merchant Bank": "https://www.rmb.com.ng",
        "Refuge Mortgage Bank": "refugebank.com.ng",
        "REHOBOTH MICROFINANCE BANK": "rehobothmfb.com",
       "Rephidim Microfinance Bank": "rephidimmfb.com",
      "Rigo Microfinance Bank Limited": "rigomfb.com",
      "ROCKSHIELD MICROFINANCE BANK": "www.rockshieldmfb.com",
    
       "Rubies MFB": "www.rubies.ng",
        "Signature Bank Ltd": "www.signaturebankng.com",  
           "SAGE GREY FINANCE LIMITED": "sage-grey.com",
          "Safe Haven MFB": "safehavenmfb.com",
        "Sparkle Microfinance Bank": "sparkle.ng",
      "Standard Chartered Bank": "www.sc.com",
       "STANFORD MICROFINANCE BANK": "stanfordmfb.com.ng",
      "STATESIDE MICROFINANCE BANK": "statesidebank.com",
         "Stellas MFB": "stellasbank.com",
     "TransPay MFB": "transpaymfb.com",
   "Suntrust Bank": "suntrustng.com",      
       "Supreme MFB": "suprememfb.com",
     "TAJ Bank": "tajbank.com",
     "Tangerine Money": "money.tangerine.africa",
     "U&C Microfinance Bank Ltd (U AND C MFB)": "uandcmfb.com",
     "UCEE MFB": "getucee.com",
     "Uhuru MFB": "uhurumfb.com",
    "Ultraviolet Microfinance Bank": "uvmfb",
     "Unaab Microfinance Bank Limited": "microfinancebank.unaab.edu.ng",
    "Vale Finance Limited": "vale.ng",  
      "Unical MFB": "unicalmfbank.com", 
     "Unilag Microfinance Bank": "unilagmfbank.com",  
       "UNIMAID MICROFINANCE BANK": "unimaidmfb.com.ng",
      "Uzondu Microfinance Bank Awka Anambra State": "uzondumfb.com",
      "Waya Microfinance Bank": "wayabank.ng",
      "Weston Charis MFB": "westonmfb.com",
     "Xpress Wallet": "xpresspayments.com",  
       "Yes MFB": "yesbank.com.ng",
  "FairMoney Microfinance Bank": "fairmoney.io",
  "Fidelity Bank": "fidelitybank.ng",
  "First Bank of Nigeria": "firstbanknigeria.com",
  "First City Monument Bank": "fcmb.com",
  "Globus Bank": "globusbank.com",
  "Guaranty Trust Bank": "gtbank.com",
  "Heritage Bank": "hbng.com",
  "Infinity MFB": "infinitymfb.com",
  "Jaiz Bank": "jaizbankplc.com",
  "Kuda Bank": "kuda.com",
  "Keystone Bank": "keystonebankng.com",
  "Lotus Bank": "lotusbank.com",
  "Moniepoint MFB": "moniepoint.com",
  "Nova Commercial Bank": "nova-bank.com",
  "Optimus Bank": "optimusbank.com",
  "PalmPay": "palmpay.com",
  "Paycom": "paycom.com",
  "Petra Microfinance Bank": "petramfb.com",
  "Polaris Bank": "polarisbanklimited.com",
  "PremiumTrust Bank": "premiumtrustbank.com",
  "HopePSB": "hopepsbank.com",
  "Providus Bank": "providusbank.com",
  "Rubies Bank": "rubiesbank.com",
  "Sky Bank": "skyebank.com",
  "Stanbic IBTC Bank": "stanbicibtcbank.com",
  "Sterling Bank": "sterling.ng",
  "SunTrust Bank": "suntrustng.com",
  "Titan Bank": "titanbank.com",
  "United Bank For Africa": "ubagroup.com",
  "Union Bank of Nigeria": "unionbankng.com",
  "Unity Bank": "unitybankng.com",
  "Wema Bank": "wemabank.com",
  "Zenith Bank": "zenithbank.com",
  "OPay Digital Services Limited (OPay)": "opayweb.com",
  "Paga": "mypaga.com",
  "Paystack‑Titan (Virtual Accounts)": "titantrustbank.com",
  "9PSB": "9psb.com"
};

  let allBanks = [];

  function getBankLogo(bankName) {
    const filename = bankName.toLowerCase().replace(/\s+/g, '-') + ".png";
    if (knownBanks[bankName]) {
      return `https://logo.clearbit.com/${knownBanks[bankName]}`;
    }
    return filename;
  }

  function createBankItem(bank) {
  const bankItem = document.createElement("li");
  bankItem.classList.add("bank-item");

  const logo = document.createElement("img");
  const domain = knownBanks[bank.name];
  const logoUrl = domain ? `https://logo.clearbit.com/${domain}` : "https://res.cloudinary.com/dwbylknew/image/upload/v1750580312/uploads/jsmgt4vraclflvahwdn2.jpg";

  logo.src = logoUrl;
  logo.alt = `${bank.name} Logo`;

// 🛠 Add fallback image if loading fails
  logo.onerror = function () {
    this.onerror = null; // Prevent infinite loop
    this.src = "https://res.cloudinary.com/dwbylknew/image/upload/v1750580312/uploads/jsmgt4vraclflvahwdn2.jpg";
  };
  
  const name = document.createElement("span");
  name.classList.add("bank-name");

  const keyword = searchInput.value.toLowerCase();
  const bankName = bank.name;

  if (keyword) {
  const index = bankName.toLowerCase().indexOf(keyword);
       if (index !== -1) {
      const before = bankName.slice(0, index);
      const match = bankName.slice(index, index + keyword.length);
      const after = bankName.slice(index + keyword.length);
      name.innerHTML = `${before}<span class="matching-letter">${match}</span>${after}`;
    bankList.style.display ="relative"
  
    } else {
      name.textContent = bankName;
    }
  } else {
    name.textContent = bankName;
  }

  bankItem.appendChild(logo);
  bankItem.appendChild(name);
  bankItem.addEventListener("click", () => {
   const input2 = document.getElementById('searchInput');
   document.getElementById("showbank2").style.display ="block"
    document.getElementById("showbank2").src = logoUrl;
  document.getElementById("bankname2").textContent = bank.name;
    localStorage.setItem("selectedBank", bank.name);
    localStorage.setItem("selectedBankLogo", logoUrl);
  document.getElementById("selectpage").style.display ="none";
 document.getElementById("transferpage").style.display ="block";

const idme ="transpage";
   localStorage.setItem('activeContainer', idme);  
document.getElementById("selecttext").style.display ="none";
 document.getElementById("showbank").style.backgroundColor ="#1E1E1E"
 document.getElementById("select2").style.display ="block"
 
 input2.value = '';
  loadBanks ();

  const real = document.getElementById("accountNum").value.trim();

  if (real !== "") {
      verifyAccount();
     
  } else {
   
  }
  
  
 
 
 let displayBankName4 = bank.name;
 
 if (displayBankName4.toLowerCase() === "opay digital services limited (opay)") {
      displayBankName4 = "Opay";
    } else if (displayBankName4.toLowerCase() === "moniepoint mfb") {
      displayBankName4 = "Moniepoint";
    } else if (displayBankName4.toLowerCase() === "first city monument bank") {
      displayBankName4 = "FCMB";
    }
document.getElementById("bankname3").textContent = displayBankName4; 
  }); 

  return bankItem;
}
  function groupBanks(banks) {
    const sections = {};
    const hashGroup = [];

    banks.forEach(bank => {
      const firstLetter = bank.name.charAt(0).toUpperCase();
      if (!isNaN(firstLetter)) {
        hashGroup.push(bank);
      } else {
        if (!sections[firstLetter]) sections[firstLetter] = [];
        sections[firstLetter].push(bank);
      }
    });

    return { hashGroup, sections };
  }

  function renderBankList(filteredBanks) {
    bankList.innerHTML = "";

    const { hashGroup, sections } = groupBanks(filteredBanks);

    if (hashGroup.length > 0) {
      const hashSection = document.createElement("li");
      hashSection.textContent = "#";
      hashSection.classList.add("bank-section");
      hashSection.id = "letter-#";
      bankList.appendChild(hashSection);

      hashGroup.forEach(bank => {
        bankList.appendChild(createBankItem(bank));
      });
    }

    Object.keys(sections).sort().forEach(letter => {
      const section = document.createElement("li");
      section.textContent = letter;
      section.classList.add("bank-section");
      section.id = `letter-${letter}`;
      bankList.appendChild(section);

      sections[letter].forEach(bank => {
        bankList.appendChild(createBankItem(bank));
      });
    });
  }

  async function loadBanks() {
    try {
      const response = await fetch("https://api.paystack.co/bank", {
        headers: { Authorization: `Bearer YOUR_PAYSTACK_SECRET_KEY` }
      });
      const data = await response.json();

      if (!data.status) throw new Error("Failed to fetch banks");

      allBanks = data.data;
      renderBankList(allBanks);
      createAlphabetIndex();
      bankList.addEventListener("scroll", highlightActiveLetter);
    } catch (err) {
      console.error("Error:", err);
    }
  }

  function createAlphabetIndex() {
    alphabetIndex.innerHTML = "";

    const hashSpan = document.createElement("span");
    hashSpan.textContent = "#";
    hashSpan.onclick = () => scrollToLetter("#");
    alphabetIndex.appendChild(hashSpan);

    for (let i = 65; i <= 90; i++) {
      const letter = String.fromCharCode(i);
      const span = document.createElement("span");
      span.textContent = letter;
      span.onclick = () => scrollToLetter(letter);
      alphabetIndex.appendChild(span);
 
    }

    alphabetIndex.addEventListener("touchstart", handleTouch);
    alphabetIndex.addEventListener("touchmove", handleTouch);
  }

  function scrollToLetter(letter) {
    const section = document.getElementById(`letter-${letter}`);
    if (section) {
      section.scrollIntoView({ block: "start" });
      setActiveLetter(letter);
      showLetterPopup(letter);
    }
  }

  function setActiveLetter(letter) {
    document.querySelectorAll(".alphabet-index span").forEach(span => {
      span.classList.toggle("alphabet-active", span.textContent === letter);
    });
  }

  function highlightActiveLetter() {
    let closestLetter = null;
    let minDistance = Infinity;

    document.querySelectorAll(".bank-section").forEach(section => {
      const rect = section.getBoundingClientRect();
      if (rect.top >= 0 && rect.top < minDistance) {
        minDistance = rect.top;
        closestLetter = section.textContent;
      }
    });

    if (closestLetter) {
      setActiveLetter(closestLetter);
    }
  }

  function showLetterPopup(letter) {
    letterPopup.textContent = letter;
    letterPopup.style.display = "block";
    setTimeout(() => {
      letterPopup.style.display = "none";
    }, 2000);
  }

  function handleTouch(event) {
    if (event.cancelable) event.preventDefault();
    const touch = event.touches[0];
    const elements = document.elementsFromPoint(touch.clientX, touch.clientY);
    const letterElement = elements.find(el => el.parentElement === alphabetIndex);
    if (letterElement) {
      scrollToLetter(letterElement.textContent);
    }
  }
  searchInput.addEventListener("input", () => {
    const keyword = searchInput.value.toLowerCase();
    const filtered = allBanks.filter(bank =>
  bank.name.toLowerCase().startsWith(keyword)
);
    renderBankList(filtered);
  });

  loadBanks();
const input = document.getElementById('searchInput');
    const caret = document.getElementById('customCaret');
    const mirror = document.getElementById('mirror');

    function updateCaretPosition() {
      mirror.textContent = input.value.substring(0, input.selectionStart);
      const mirrorWidth = mirror.offsetWidth;
      caret.style.left = `${mirror.offsetLeft + mirrorWidth}px`;
 
    }

    input.addEventListener('input', updateCaretPosition);
    input.addEventListener('click', updateCaretPosition);
    input.addEventListener('keyup', updateCaretPosition);
    input.addEventListener('keydown', updateCaretPosition);
    input.addEventListener('focus', () => caret.style.display = 'block');
    input.addEventListener('blur', () => caret.style.display = 'none');

    window.addEventListener('load', updateCaretPosition);

const input1 = document.getElementById('searchInput');
    

    input1.addEventListener('input', () => {
      if (input1.value.trim().length > 0) {
        document.getElementById("close1").style.display ="block"
  document.getElementById("banks2").style.display ="none"     
      } else {
  document.getElementById("banks2").style.display ="block" 
   document.getElementById("close1").style.display ="none"   
      }
    });
const clearBtn = document.getElementById('close1');

    clearBtn.addEventListener('click', () => {
      input1.value = '';
    loadBanks();
   document.getElementById("banks2").style.display ="block"
   
    });
 const frequentBanksContainer = document.getElementById("frequentBanks");

    const knownBanks1 = {
      "Access Bank": "accessbankplc.com",
      "Zenith Bank": "zenithbank.com",
      "Guaranty Trust Bank": "gtbank.com",
     "Moniepoint MFB": "moniepoint.com",
       "Polaris Bank": "polarisbanklimited.com",
        "Fidelity Bank": "fidelitybank.ng"
    };

    const frequentBankNames = [
      "Polaris Bank",
      "Access Bank",
      "Zenith Bank",
      "Guaranty Trust Bank",
      "Moniepoint MFB",
      "Fidelity Bank"
    ];

    function getBankLogo(bankName) {
      return knownBanks1[bankName] ? `https://logo.clearbit.com/${knownBanks1[bankName]}` : "https://res.cloudinary.com/dwbylknew/image/upload/v1750580312/uploads/jsmgt4vraclflvahwdn2.jpg";
    }

    frequentBankNames.forEach(bankName => {
      const bankDiv = document.createElement("div");
      bankDiv.className = "frequent-item";

      const img = document.createElement("img");
      img.src = getBankLogo(bankName);
      img.alt = bankName;

      const name = document.createElement("span");
      name.textContent = bankName;

      bankDiv.appendChild(img);
      bankDiv.appendChild(name);

bankDiv.addEventListener("click", () => {
    const input3 = document.getElementById('searchInput');
   document.getElementById("showbank2").style.display ="block"
   document.getElementById("showbank2").src = img.src;
  document.getElementById("bankname2").textContent = bankName;
    localStorage.setItem("selectedBank1", bankName);
    localStorage.setItem("selectedBankLogo1", img.src);
  document.getElementById("selectpage").style.display ="none";
 document.getElementById("transferpage").style.display ="block";

const idme ="transpage";
   localStorage.setItem('activeContainer', idme);  

document.getElementById("selecttext").style.display ="none";
 document.getElementById("showbank").style.backgroundColor ="#1E1E1E"
 
document.getElementById("select2").style.display ="block"

 input3.value = '';
  loadBanks ();
 const real2 = document.getElementById("accountNum").value.trim();

  if (real2 !== "") {
      verifyAccount();
     
  } else {
   
  }
  
  
 let displayBankName3 = bankName;
 
 if (displayBankName3.toLowerCase() === "opay digital services limited (opay)") {
      displayBankName3 = "Opay";
    } else if (displayBankName3.toLowerCase() === "moniepoint mfb") {
      displayBankName3 = "Moniepoint";
    } else if (displayBankName3.toLowerCase() === "first city monument bank") {
      displayBankName3 = "FCMB";
    }
document.getElementById("bankname3").textContent = displayBankName3; 

  }); 
   
      if (bankName === "OPay") {
        const badge = document.createElement("span");
        badge.className = "instant-badge";
        badge.textContent = "Instant & Free";
        bankDiv.appendChild(badge);
      }

      frequentBanksContainer.appendChild(bankDiv);
    });

const showBtn = document.getElementById('searchInput');

    showBtn.addEventListener('click', () => {
  document.getElementById("customCaret").style.display ="block"  
  
   });
 document.getElementById("showbank").addEventListener('click', () => {
  document.getElementById("transferpage").style.display = "none";
  const selectPage = document.getElementById("selectpage");
  selectPage.style.display = "block";

  let pos = 100; // start from 100%
  const speed = 10; // faster step (increase this to go faster)

  const interval = setInterval(() => {
    pos -= speed;
    if (pos <= 0) {
      pos = 0;
      clearInterval(interval);
    }
    selectPage.style.left = pos + '%';
  }, 1); // smaller delay = smoother
});
document.getElementById("clbank").addEventListener('click', () => {

 let pos = 0; // start from left 0%
  const interval = setInterval(() => {
    pos += 5; // slide out
    if (pos >= 100) {
      pos = 100;
      clearInterval(interval);
document.getElementById("selectpage").style.display ="none";
          }
document.getElementById("selectpage").style.left = pos + '%';
  }, 0.5);
setTimeout(() => {
document.getElementById("transferpage").style.display ="block";

 }, 200);

});
document.getElementById("clbank").addEventListener('click', () => {
  let pos = 0; // start from 0%
  const speed = 10; // increase this for faster slide

  const interval = setInterval(() => {
    pos += speed;
    if (pos >= 100) {
      pos = 100;
      clearInterval(interval);
      document.getElementById("selectpage").style.display = "none";
    }
    document.getElementById("selectpage").style.left = pos + '%';
  }, 0.5); // smaller delay = smoother

  setTimeout(() => {
    document.getElementById("transferpage").style.display = "block";
  }, 200); // reduce to match faster slide timing
});

const paystackSecretKey2 = "sk_live_91f2090fdcb5c3717b4b96b10c67db3f5b1e850b"; // Replace with your actual key

let banksList = [];

// Fetch bank list from Paystack once
fetch("https://api.paystack.co/bank", {
    method: "GET",
    headers: {
        Authorization: "Bearer " + paystackSecretKey2
    }
})
.then(response => response.json())
.then(data => {
    if (data.status) {
        banksList = data.data;
    }
})
.catch(error => console.log("Error fetching banks:", error));

// Listen for input in account number field
document.getElementById("accountNum").addEventListener("input", function () {
    let cleaned = this.value.replace(/\s+/g, ''); // Remove spaces

    if (cleaned.length === 10) {  // Only verify when cleaned number has 10 digits
        verifyAccount();
    }
});
let isAccountVerified = false;

function verifyAccount() {

document.getElementById("flex2").style.display ="block"
 document.getElementById("namepic").style.display ="none"
   document.getElementById("spinme").style.display ="flex"
  
  let inputFie = document.getElementById("accountNum").value;

// Format the number (assuming it's a 10-digit number)
let formatted = inputFie.replace(/\D/g, '') // Remove non-digits
                        .replace(/(\d{3})(\d{3})(\d{4})/, '$1 $2 $3');

document.getElementById("accountNum4").textContent = formatted;
  
  const tall = document.getElementById("showbank2").src;
  
    document.getElementById("yourpic").src = tall;
    
    const nameText = document.getElementById("yourname").textContent.trim();
    const charCount = nameText.length;
    const marginDiv = document.getElementById("margin");

    if (charCount > 17) {
      
  document.getElementById("margin").style.marginTop = "-17%";   
      
    } else if (charCount < 17) {
      document.getElementById("margin").style.marginTop = "-12%";
    }
       let inputField = document.getElementById("accountNum");
    let accountNum = inputField.value.replace(/\s+/g, '').trim();  // Clean inside verifyAccount too


   
   
    const bankNameDiv = document.getElementById("bankname2");
    const bankNameText = bankNameDiv ? bankNameDiv.textContent.trim().toLowerCase() : "";

    if (!accountNum || !bankNameText) {
        return;
    }

    const matchedBank = banksList.find(bank => bank.name.toLowerCase().includes(bankNameText));

    if (!matchedBank) {
        alert("Bank not found. Please check the name.");
        return;
    }

    fetch(`https://api.paystack.co/bank/resolve?account_number=${accountNum}&bank_code=${matchedBank.code}`, {
        method: "GET",
        headers: {
            Authorization: "Bearer " + paystackSecretKey2,
            "Content-Type": "application/json"
        }
    })
    .then(response => response.json())
    .then(data => {
        if (data.status) {
            const name = data.data.account_name;
            document.getElementById("accountHolder").textContent = `${name}`;
            
  setTimeout(function() {
  document.getElementById("spinme").style.display ="none"
  document.getElementById("namepic").style.display ="block"



}, 800);         
           isAccountVerified = true;  
        const bola2 = document.getElementById("yourpic").src;

document.getElementById("house1").src = bola2;  
           
   localStorage.setItem("accountName", name);
            localStorage.setItem("accountNumber", accountNum);
            localStorage.setItem("bankName", matchedBank.name);
       
       const name2 = data.data.account_name;
const firstName = name2.split(" ")[0]; // Take the first word

};
    })
    .catch(error => console.log("Error resolving account:", error));

document.getElementById("verifyconfirm").textContent ="Account not found"         
} 
document.getElementById("next1").addEventListener("click", function() {
 
       if (!isAccountVerified) {
       
        return;
    } document.getElementById("play").style.display = "block";
        document.getElementById("fbt").style.overflow = 'hidden';

        const morgan = document.getElementById("bankname3").textContent;
        document.getElementById("bankname4").textContent = morgan;

        const morgan5 = document.getElementById("accountHolder").textContent;
        document.getElementById("yourname").textContent = morgan5;
   
});

 document.addEventListener("DOMContentLoaded", () => {
      
    });
function showDetails(entry) {
  document.getElementById("showbank2").src = entry.bankLogo;
 
      document.getElementById("accountNum").value  = entry.accountNumber;
       document.getElementById("showbank").style.backgroundColor ="#1E1E1E"
  document.getElementById("selecttext").style.display ="none" 
 document.getElementById("showbank2").style.display ="block"
  document.getElementById("select2").style.display ="block"

   document.getElementById("bankname2").textContent = entry.bankName; 
  
 let displayBankName2 = entry.bankName;
 
 if (displayBankName2.toLowerCase() === "opay digital services limited (opay)") {
      displayBankName2 = "Opay";
    } else if (displayBankName2.toLowerCase() === "moniepoint mfb") {
      displayBankName2 = "Moniepoint";
    } else if (displayBankName2.toLowerCase() === "first city monument bank") {
      displayBankName2 = "FCMB";
    }
document.getElementById("bankname3").textContent = displayBankName2; 

document.getElementById("fastV").style.display = "none";



verifyAccount ();
document.getElementById('accountNum').focus();
}  
const input4 = document.getElementById('accountNum');
    

    input4.addEventListener('input', () => {
      if (input4.value.trim().length > 0) {
          
      } else {
   document.getElementById("fastV").style.display = "none";
      }
    });
const realInput = document.getElementById('accountNum');
const fakeInput = document.getElementById('fakeInput');
let lastCaretPos = 0;

function formatNumber(value) {
  value = value.replace(/\D/g, ''); // Remove non-digits
  const part1 = value.substring(0, 3);
  const part2 = value.substring(3, 6);
  const part3 = value.substring(6, 10);
  let formatted = '';
  if (part1) formatted += part1;
  if (part2) formatted += ' ' + part2;
  if (part3) formatted += ' ' + part3;
  return formatted;
}

function updateFakeInput(showCaret = true) {
  const rawValue = realInput.value.replace(/\D/g, '');
  const formattedValue = formatNumber(rawValue);

// === Set font size based on content ===
  if (rawValue.length === 0) {
    fakeInput.style.fontSize = '15px';
  } else {
    fakeInput.style.fontSize = '17px';
  }

  if (rawValue.length === 0) {
    if (showCaret) {
      fakeInput.innerHTML = `<span class="caret"></span><span class="placeholder-text">Enter 10-digit Account No.</span>`;
    } else {
      fakeInput.innerHTML = `<span class="placeholder-text">Enter 10-digit Account No.</span>`;
    }
    return;
  }

  const caretPos = realInput.selectionStart;
  let visibleCaretPos = 0;
  for (let i = 0, count = 0; i < caretPos; i++) {
    if (/\d/.test(realInput.value[i])) {
      count++;
      visibleCaretPos++;
      if (count % 3 === 0 && count !== 9 && count !== rawValue.length) {
        visibleCaretPos++;
      }
    } else {
      visibleCaretPos++;
    }
  }
  let displayText = '';
  for (let i = 0; i <= formattedValue.length; i++) {
    if (i === visibleCaretPos && showCaret) {
      displayText += '<span class="caret"></span>';
    }
    if (i < formattedValue.length) {
      displayText += formattedValue[i];
    }
  }
  fakeInput.innerHTML = displayText;
}

// Capture key events
realInput.addEventListener('keydown', (e) => {
  const rawValue = realInput.value.replace(/\D/g, '');
  const isBackspace = e.key === "Backspace";

  if (isBackspace && rawValue.length > 0) {
    lastCaretPos = Math.max(0, lastCaretPos - 1);
  } else if (!isBackspace && /\d/.test(e.key) && rawValue.length < 10) {
    lastCaretPos++;
  }
});

// Always force caret on click
realInput.addEventListener('click', (e) => {
  realInput.setSelectionRange(realInput.value.length, realInput.value.length);
  updateFakeInput(true);
});

// Always show caret on focus
realInput.addEventListener('focus', () => updateFakeInput(true));

// Input typing
realInput.addEventListener('input', () => updateFakeInput(true));

// Key press (small delay needed)
realInput.addEventListener('keydown', () => {
  setTimeout(() => updateFakeInput(true), 0);
});
 
  
  
// Blur (when losing focus, hide caret)
realInput.addEventListener('blur', () => {
  updateFakeInput(false);
});

// Initialize (start without ca ret)
updateFakeInput(false);

const realInput2 = document.getElementById('accountNum2');
const fakeInput2 = document.getElementById('fakeInput2');
let lastCaretPos2 = 0;

function formatNumber2(value) {
  value = value.replace(/\D/g, '');
  const part1 = value.substring(0, 3);
  const part2 = value.substring(3, 6);
  const part3 = value.substring(6, 10);
  let formatted = '';
  if (part1) formatted += part1;
  if (part2) formatted += ' ' + part2;
  if (part3) formatted += ' ' + part3;
  return formatted;
}

function updateFakeInput2(showCaret = true) {
  const rawValue2 = realInput2.value.replace(/\D/g, '');
  const formattedValue = formatNumber2(rawValue2);

  fakeInput2.style.fontSize = rawValue2.length === 0 ? '15px' : '17px';

  if (rawValue2.length === 0) {
    fakeInput2.innerHTML = showCaret
      ? `<span class="caret"></span><span class="placeholder-text">Enter 10-digit Account No. or Phone No.</span>`
      : `<span class="placeholder-text">Enter 10-digit Account No. or Phone No.</span>`;
    return;
  }

  const caretPos2 = realInput2.selectionStart;
  let visibleCaretPos2 = 0;
  for (let i = 0, count = 0; i < caretPos2; i++) {
    if (/\d/.test(realInput2.value[i])) {
      count++;
      visibleCaretPos2++;
      if (count % 3 === 0 && count !== 9 && count !== rawValue2.length) {
        visibleCaretPos2++;
      }
    } else {
      visibleCaretPos2++;
    }
  }

  let displayText = '';
  for (let i = 0; i <= formattedValue.length; i++) {
    if (i === visibleCaretPos2 && showCaret) {
      displayText += '<span class="caret"></span>';
    }
    if (i < formattedValue.length) {
      displayText += formattedValue[i];
    }
  }
  fakeInput2.innerHTML = displayText;
}

realInput2.addEventListener('keydown', (e) => {
  const rawValue2 = realInput2.value.replace(/\D/g, '');
  const isBackspace = e.key === "Backspace";

  if (isBackspace && rawValue2.length > 0) {
    lastCaretPos2 = Math.max(0, lastCaretPos2 - 1);
  } else if (!isBackspace && /\d/.test(e.key) && rawValue2.length < 10) {
    lastCaretPos2++;
  }
});

realInput2.addEventListener('click', () => {
  realInput2.setSelectionRange(realInput2.value.length, realInput2.value.length);
 
  updateFakeInput2(true);
});
realInput2.addEventListener('focus', () => updateFakeInput2(true));
realInput2.addEventListener('input', () => updateFakeInput2(true));
realInput2.addEventListener('keydown', () => {
  setTimeout(() => updateFakeInput2(true), 0);
});
realInput2.addEventListener('blur', () => updateFakeInput2(false));

// Initialize
updateFakeInput2(false);

function formatFilter(inputEl) {
    if (document.getElementById("accountNum").value == "") {
      document.getElementById("next1").style.backgroundColor ="#352f5ee5"

document.getElementById("next1").style.color ="#aaa"
    document.getElementById("bankclose").style.display ="none"  
   
  document.getElementById("select2").style.display ="none"
  document.getElementById("selecttext").style.display ="block"
  
  document.getElementById("flex2").style.display ="none"
 document.getElementById("next1").style.backgroundColor ="#352f5ee5"

document.getElementById("next1").style.color ="#aaa"
    
    } else {
      document.getElementById("next1").style.backgroundColor ="#8B5CF6"

document.getElementById("next1").style.color ="white"
      document.getElementById("bankclose").style.display ="flex"    
    }
 
  
  
      let raw = inputEl.value.replace(/\D/g, "").substring(0, 10);
      let formatted = raw;

      if (raw.length > 3 && raw.length <= 6) {
        formatted = raw.slice(0, 3) + " " + raw.slice(3);
      } else if (raw.length > 6) {
        formatted = raw.slice(0, 3) + " " + raw.slice(3, 6) + " " + raw.slice(6);
      }

     
      filterAccounts(raw);
    }

    function updateCaretPosition2(formattedValue) {
      
    }

    
    function filterAccounts(rawInput) {
  const resultsContainer = document.getElementById("resultsContainer");
  
  const fastV = 
document.getElementById("fastV");
  
  resultsContainer.innerHTML = "";

  if (rawInput === "") return;

  const history = JSON.parse(localStorage.getItem("accountHistory") || "[]");

  const matches = history.filter(entry =>
    
entry.accountNumber.startsWith(rawInput) &&
entry.bankName.trim().toLowerCase() !== "palmpay"

 
  );

  if (matches.length === 0) {
    document.getElementById("fastV").style.display = "none"; 
    return;
  }
 // Each entry is about 60px tall
const entryHeight = 61.6;
const maxVisibleEntries = 4;
const visibleCount = Math.min(matches.length, maxVisibleEntries);
fastV.style.height = (entryHeight * visibleCount) + "px";

  matches.forEach(entry => {
    const matchedPart = entry.accountNumber.slice(0, rawInput.length);
    const remainingPart = entry.accountNumber.slice(rawInput.length);
    const highlightedNumber = `<span class="highlight">${matchedPart}</span>${remainingPart}`;

    document.getElementById("fastV").style.display = "block";    

    // Handle special bank name display
    let displayBankName = entry.bankName;
    if (displayBankName.toLowerCase() === "opay digital services limited (opay)") {
      displayBankName = "Opay";
    } else if (displayBankName.toLowerCase() === "moniepoint mfb") {
      displayBankName = "Moniepoint";
    } else if (displayBankName.toLowerCase() === "first city monument bank") {
      displayBankName = "FCMB";
    }

    const div = document.createElement("div");
    div.className = "account-entry";
    div.innerHTML = `
      <img src="${entry.bankLogo}" alt="${displayBankName}">
      <div class="details">
        <div class="account-name">${entry.accountName}</div>
        <div class="account-info">${highlightedNumber} ${displayBankName}</div>
      </div>
    `;
    div.onclick = function() {
      showDetails(entry);
    };
    resultsContainer.appendChild(div);
  });
} 
function filterStoredAccounts(rawInput) {
  const resultsContainer = document.getElementById("resultsContainer");
  const fastV = document.getElementById("fastV");
  
  resultsContainer.innerHTML = "";

  if (rawInput === "") return;

  const history = JSON.parse(localStorage.getItem("accountHistory") || "[]");

  const matches = history.filter(entry =>
    entry.accountNumber.startsWith(rawInput) &&
    entry.bankName.trim().toLowerCase() == "palmpay"
  );

  if (matches.length === 0) {
    fastV.style.display = "none"; 
    return;
  }

  // Each entry is about 60px tall
const entryHeight = 61.6;
const maxVisibleEntries = 4;
const visibleCount = Math.min(matches.length, maxVisibleEntries);
fastV.style.height = (entryHeight * visibleCount) + "px";

  matches.forEach(entry => {
    const matchedPart = entry.accountNumber.slice(0, rawInput.length);
    const remainingPart = entry.accountNumber.slice(rawInput.length);
    const highlightedNumber = `<span class="highlight">${matchedPart}</span>${remainingPart}`;

    fastV.style.display = "block";    

    let displayBankName = entry.bankName;
    if (displayBankName.toLowerCase() === "opay digital services limited (opay)") {
      displayBankName = "Opay";
    } else if (displayBankName.toLowerCase() === "moniepoint mfb") {
      displayBankName = "Moniepoint";
    } else if (displayBankName.toLowerCase() === "first city monument bank") {
      displayBankName = "FCMB";
    }

    const div = document.createElement("div");
    div.className = "account-entry";
    div.innerHTML = `
      <img src="${entry.bankLogo2}" alt="${displayBankName}">
      <div class="details">
        <div class="account-name">${entry.accountName}</div>
        <div class="account-info">${highlightedNumber} ${displayBankName}</div>
      </div>
    `;
    div.onclick = function() {
      showDetails2(entry);
  document.getElementById("fastV").style.display ="none"
    };
    resultsContainer.appendChild(div);
  });
}

function formatlifeeFilter(inputEl) {
  let raw = inputEl.value.replace(/\D/g, "").substring(0, 10);
  let formatted = raw;

  if (raw.length > 3 && raw.length <= 6) {
    formatted = raw.slice(0, 3) + " " + raw.slice(3);
  } else if (raw.length > 6) {
    formatted = raw.slice(0, 3) + " " + raw.slice(3, 6) + " " + raw.slice(6);
  }

  filterStoredAccounts(raw); // updated call
}
 function showDetails2(entry) {
  
 
      document.getElementById("accountNum2").value  = entry.accountNumber;

verifyAccount2();



document.getElementById('accountNum2').focus();
}
 let isAccountVerified2 = false;
 
function verifyAccount2() {


  document.getElementById("head9").style.marginTop ="2.2%"

document.getElementById("bank-logo9").style.marginLeft = "-1%"

document.getElementById("subtext").style.marginTop = "25%"


document.getElementById("subtext").style.marginLeft = "7%"


document.getElementById("baba").style.marginTop = "-9%"
document.getElementById("rapp").style.marginTop = "3.9%"

document.getElementById("keytop").style.marginTop = "79.4%"

document.getElementById("amountdel").style.marginTop = "-26.5%"

document.getElementById("head9").textContent = "Transfer to PalmPay"
 
    document.getElementById("wish1").src ="oboy.png"

document.getElementById("barry2").style.marginTop ="-129%"

document.getElementById("charge").style.display ="none"
document.getElementById("wella").style.marginTop ="-1%"
document.getElementById("land").style.marginTop ="-7.8%"

document.getElementById("land2").style.marginTop ="-33.5%"

document.getElementById("styletop").style.marginTop ="2.8%"


    const nameText2 = document.getElementById("yourname").textContent.trim();
    const charCount2 = nameText2.length;
    const marginDiv2 = document.getElementById("margin");

    if (charCount2 > 17) {
      
  document.getElementById("margin").style.marginTop = "-17%";   
      
    } else if (charCount2 < 17) {
      document.getElementById("margin").style.marginTop = "-12%";
    }



document.getElementById("flex6").style.display ="block"
 document.getElementById("namepic2").style.display ="none"
   document.getElementById("spinme2").style.display ="flex"
   
    let inputField = document.getElementById("accountNum2");
    let accountNum = inputField.value.replace(/\s+/g, '').trim();  // Clean inside verifyAccount too

    
    const bankNameText = "Palmpay" 

    if (!accountNum || !bankNameText) {
        return;
    }

    const matchedBank = banksList.find(bank => bank.name.toLowerCase() === bankNameText.toLowerCase());
    
    if (!matchedBank) {
        alert("Bank not found. Please check the name.");
        return;
    }

    fetch(`https://api.paystack.co/bank/resolve?account_number=${accountNum}&bank_code=${matchedBank.code}`, {
        method: "GET",
        headers: {
            Authorization: "Bearer " + paystackSecretKey2,
            "Content-Type": "application/json"
        }
    })
    .then(response => response.json())
    .then(data => {
        if (data.status) {
            const name = data.data.account_name;
            document.getElementById("accountHolder2").textContent = `${name}`;
            
  setTimeout(function() {
  document.getElementById("spinme2").style.display ="none"
  document.getElementById("namepic2").style.display ="block"

}, 800);         
            
         isAccountVerified2 = true;
            localStorage.setItem("accountName", name);
            localStorage.setItem("accountNumber", accountNum);
            localStorage.setItem("bankName", matchedBank.name);
       
       const name2 = data.data.account_name;
const firstName = name2.split(" ")[0]; // Take the first word

fetch(`https://api.genderize.io/?name=${firstName}`)
  .then(res => res.json())
  .then(genderData => {
   if (genderData.gender === "male") {
  document.getElementById("house1").src ="https://res.cloudinary.com/dwbylknew/image/upload/v1750600453/uploads/zundwr701hflio3gwyj3.png"
      
    } else if (genderData.gender === "female") {
     document.getElementById("house1").src ="https://res.cloudinary.com/dwbylknew/image/upload/v1750600553/uploads/r9y5cj8xejglvcnrdd6o.png"
    } else {
      
    }
document.getElementById("changeme").src ="topalm2.png"

  });
        } else {
            isAccountVerified2 = false;
             document.getElementById("accountHolder2").textContent = "Account not found";
        }
    })
    .catch(error => console.log("Error resolving account:", error));
}
  document.getElementById("next2").addEventListener("click", function() {
 
       if (!isAccountVerified2) {
       
        return;
    } 
    
   let inputFil = document.getElementById("accountNum2").value;

// Format the number (assuming it's a 10-digit number)
let formatt = inputFil.replace(/\D/g, '') // Remove non-digits
                        .replace(/(\d{3})(\d{3})(\d{4})/, '$1 $2 $3');

document.getElementById("accountNum4").textContent = formatt;
 
  document.getElementById("play").style.display = "block";
        document.getElementById("fbt").style.overflow = 'hidden';

        
        document.getElementById("bankname4").textContent = "PalmPay";

        const morgan7 = document.getElementById("accountHolder2").textContent;
        document.getElementById("yourname").textContent = morgan7;
   
});

  
  const tabs2 = document.querySelectorAll('.tab2');
  const contents = document.querySelectorAll('.tab-content2');
  const tabLine2 = document.getElementById('tab-line2');
  const tabOrder = ['recent', 'favorites', 'contacts'];

  function moveTabLine(tab) {
  const lineWidth = 35;
  const lineLeft = tab.offsetLeft + (tab.offsetWidth - lineWidth) / 2;
  tabLine2.style.width = lineWidth + 'px';
  tabLine2.style.left = lineLeft + 'px';
}
  function activateTab(tabName) {
    tabs2.forEach(t => {
      t.classList.remove('active');
      if (t.dataset.tab === tabName) {
        t.classList.add('active');
        moveTabLine(t);
      }
    });

    contents.forEach(c => {
      c.classList.remove('active');
      if (c.id === tabName) {
        c.classList.add('active');
      }
    });
  }

  function switchToPalmPay() {
    activateTab('contacts');
  }
  
   function switchToRecent() {
    activateTab('recent');
  }

  tabs2.forEach(tab => {
    tab.addEventListener('click', () => {
      activateTab(tab.dataset.tab);
    });
  });

  // Swipe support
  let touchStartX = 0;

  contents.forEach((content, index) => {
    content.addEventListener('touchstart', e => {
      touchStartX = e.changedTouches[0].screenX;
    });

    content.addEventListener('touchend', e => {
      let touchEndX = e.changedTouches[0].screenX;
      let diff = touchEndX - touchStartX;

      if (Math.abs(diff) > 50) {
        let currentTab = Array.from(contents).findIndex(c => c.classList.contains('active'));
        if (diff < 0 && currentTab < contents.length - 1) {
          activateTab(tabOrder[currentTab + 1]);
        } else if (diff > 0 && currentTab > 0) {
          activateTab(tabOrder[currentTab - 1]);
        }
      }
    });
  });

  // Initialize tab line
  moveTabLine(document.querySelector('.tab2.active'));
    const listContainer = document.getElementById("accountList");
let history = JSON.parse(localStorage.getItem("accountHistory") || "[]");

// Filter out Palmpay first
history = history.filter(entry => entry.bankName.trim().toLowerCase() !== "palmpay");

// Only keep the first 10 entries
history.slice(0, 10).forEach(entry => {
  let displayBankName4 = entry.bankName;

  if (displayBankName4.toLowerCase() === "opay digital services limited (opay)") {
    displayBankName4 = "Opay";
  } else if (displayBankName4.toLowerCase() === "moniepoint mfb") {
    displayBankName4 = "Moniepoint";
  } else if (displayBankName4.toLowerCase() === "first city monument bank") {
    displayBankName4 = "FCMB";
  }

  const li = document.createElement("li");
  li.className = "account-item3";

  const logoURL = entry.bankLogo.includes("clearbit.com")
    ? entry.bankLogo
    : `https://logo.clearbit.com/${entry.bankLogo}`;

  li.innerHTML = `
    <img src="${entry.bankLogo}" alt="Bank Logo" class="logo3">
    <div class="account-details3">
      <div class="account-name3">${entry.accountName}</div>
      <div class="account-meta"><span>${entry.accountNumber}</span> <span id="special">${displayBankName4}</span></div>
      <div class="transfer-date">${entry.date || ''}</div>
    </div>
  `;

  li.onclick = function () {
    showDetails4(entry, displayBankName4);
  };

  listContainer.appendChild(li);
});
function showDetails4(entry, displayBankName4) {
 
 document.getElementById("house1").src = entry.bankLogo;
  document.getElementById("account-name9").textContent = entry.accountName;
localStorage.setItem("accountHolderName", entry.accountName)
  document.getElementById("yournum").textContent = entry.accountNumber;
 localStorage.setItem("accountNumber", entry.accountNumber)
  document.getElementById("yourban").textContent = displayBankName4;
 localStorage.setItem("selectedBankName", displayBankName4)
 document.getElementById("mainvid").style.display = "block";
      setTimeout(() => {

document.getElementById("fbt").scrollTop ="0"  

document.getElementById("fbt").style.overflow = 'hidden';
 document.getElementById("mainvid").style.display = "none";
    
     document.getElementById("why1").style.display ="block"

const idme = "why1";
  localStorage.setItem('activeContainer', idme);  

 let pos = 100; // start from left 100%
  const interval = setInterval(() => {
    pos -= 10; // slide speed
    if (pos <= 0) {
      pos = 0;
      clearInterval(interval);
    }
    document.getElementById("why1").style.left = pos + '%';
  }, 1); // adjust speed (25ms)
        
setTimeout(() => {
document.getElementById("mainvid").style.display = "block";
 }, 400); 
 setTimeout(() => {
document.getElementById("mainvid").style.display = "none";
 }, 1000); 
      }, 1800); 
} 
 
const input5 = document.getElementById('accountNum2');
    
 
    input5.addEventListener('input', () => {
      if (input5.value.trim().length > 0) {
      document.getElementById("next2").style.backgroundColor ="#8B5CF6";

document.getElementById("next2").style.color ="white";   

document.getElementById("bankclose2").style.display ="flex";





      } else {
   document.getElementById("next2").style.backgroundColor ="#352f5ee5";

document.getElementById("next2").style.color ="#aaa";
   document.getElementById("bankclose2").style.display ="none"; 
 
 document.getElementById("fastV").style.display ="none";  
      }
    });
function clearInput() {
  realInput.value = '';
  lastCaretPos = 0;
document.getElementById("select2").style.display ="none"
  document.getElementById("selecttext").style.display ="block"
  
  document.getElementById("flex2").style.display ="none"
 document.getElementById("next1").style.backgroundColor ="#352f5ee5"

document.getElementById("next1").style.color ="#aaa"
 document.getElementById("bankclose").style.display ="none"   
   
  updateFakeInput(false);
}
function clearInput2() {
  realInput2.value = '';
  lastCaretPos2 = 0;

document.getElementById("next2").style.backgroundColor ="#352f5ee5"

document.getElementById("next2").style.color ="#aaa"
document.getElementById("bankclose2").style.display ="none"   

document.getElementById("flex6").style.display ="none"   
 updateFakeInput2(false);
}
const button12 = document.getElementById('toggleBtn1');
    
    const container2 = document.getElementById('container2');
    let clickCount = 0;

    button12.addEventListener('click', () => {
      clickCount++;
      if (clickCount % 2 === 1) {
        // Odd clicks - show container 1
        document.getElementById("cancelpage").style.display = 'block';
        
      } else {
        document.getElementById("cancelpage").style.display = 'none';   
    document.getElementById("barry9").style.display = 'none';  
    
     document.getElementById("enterpin").style.display = 'none';   
     clickCount = 0;
      }
    });
   
  document.getElementById("continuetoggle").addEventListener('click', () => {
 document.getElementById("cancelpage").style.display = 'none';
 
 
  });
  
 document.getElementById("closetoggle").addEventListener('click', () => {
 document.getElementById("cancelpage").style.display = 'none';
 
 
  });
  
  document.getElementById("closetoggle2").addEventListener('click', () => {

clickCount = 0; document.getElementById("cancelpage").style.display = 'none';

document.getElementById("enterpin").style.display = 'none';
 document.getElementById("barry9").style.display = 'none';
  });
    const inputa = document.getElementById('amountInput');
  const keys = document.querySelectorAll('.key');
  const backspace = document.getElementById('backspaceKey');

  function formatNumber1(val) {
    const parts = val.replace(/,/g, '').split('.');
    const intPart = parts[0];
    const decimalPart = parts[1] || '';

    const formattedInt = intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ',');
    return decimalPart ? `${formattedInt}.${decimalPart}` : formattedInt;
  }

  function updateInput(val) {
    inputa.value = formatNumber1(val);
    inputa.focus();
    setTimeout(() => {
      inputa.selectionStart = inputa.selectionEnd = inputa.value.length;
    }, 0);
const container = document.getElementById("life2h");

 if (val.trim() !== "") {
 inputa.style.backgroundColor = "#1e1e1e";
document.getElementById("border1").style.borderBottom = "1px solid white";
document.getElementById("amountdel").style.display ="flex"
 document.getElementById("next8").style.backgroundColor ="#8B5CF6"
 
 document.getElementById("next8").style.color ="white"
  } else {
    inputa.style.backgroundColor = "transparent";
 document.getElementById("amountdel").style.display ="none"
 document.getElementById("next8").style.backgroundColor ="#352f5ee5"
 document.getElementById("next8").style.color ="#aaa"
  }
  }

  keys.forEach(key => {
    key.addEventListener('click', () => {
      let raw = inputa.value.replace(/,/g, '');
      raw += key.textContent;
      updateInput(raw);
    });
  });

  backspace.addEventListener('click', () => {
    let raw = inputa.value.replace(/,/g, '');
    raw = raw.slice(0, -1);
    updateInput(raw);
  });

  inputa.addEventListener('focus', () => {
    setTimeout(() => {
      inputa.selectionStart = inputa.selectionEnd = inputa.value.length;
   }, 0);
  });

  window.onload = () => {
    
  };
  function clearInput4() {
 inputa.value = ''; 
inputa.focus(); document.getElementById("amountdel").style.display ="none"
document.getElementById("amountInput").style.backgroundColor ="transparent"
 }
const refdel = document.getElementById("referenceInput");


refdel.addEventListener("input", function () {
   document.getElementById("referenceInput").style.backgroundColor = refdel.value.trim() !== "" ? "#1e1e1e" : "transparent";

document.getElementById("refdel").style.display = refdel.value.trim() !== "" ? "flex" : "none";
});

 function clearInput5() {
 document.getElementById("referenceInput").value = ''; 
document.getElementById("referenceInput").focus(); document.getElementById("refdel").style.display ="none"
document.getElementById("referenceInput").style.backgroundColor ="transparent"
 }
</script>
 
</body>
</html>
